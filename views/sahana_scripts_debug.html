<!--Running in Debug mode, so we want each script to download separately & to use the uncompressed versions-->

<!--Web2Py Layer-->
<script src="/{{=request.application}}/static/scripts/web2py/jquery-1.3.2.js" type="text/javascript"></script>
<script src="/{{=request.application}}/static/scripts/web2py/calendar.js" type="text/javascript" charset="utf-8"></script>
<!-- These 2 are included in the 1 above, but so is other stuff :/
<script src="/{{=request.application}}/static/scripts/web2py/calendar-1.0.js" type="text/javascript" charset="utf-8"></script>
<script src="/{{=request.application}}/static/scripts/web2py/jquery.clockpick.1.2.4.js" type="text/javascript" charset="utf-8"></script>
-->
<script src="/{{=request.application}}/static/scripts/web2py/web2py.js" type="text/javascript" charset="utf-8"></script>
<!--Scripts which need pre-processing by server must be called in-line-->
<script type="text/javascript">//<![CDATA[
$(document).ready(function() {
$('input.delete').attr('onclick','if(this.checked) if(!confirm("{{=T('Sure you want to delete this object?')}}")) this.checked=false;');
try {$("input.date").focus( function() {Calendar.setup({
     inputField:this.id, ifFormat:"{{=T('%Y-%m-%d')}}", showsTime:false
}); }); } catch(e) {};
try { $("input.datetime").focus( function() {Calendar.setup({
     inputField:this.id, ifFormat:"{{=T('%Y-%m-%d %H:%M:%S')}}", showsTime: true,timeFormat: "24"
}); }); } catch(e) {};
try { $("input.time").clockpick({
     starthour:0, endhour:23, showminutes:true, military:true
}); } catch(e) {};
});
//]]></script>

<!--T2 Layer-->
<!--
<script src="/{{=request.application}}/static/scripts/T2/sfmenu.js" type="text/javascript" charset="utf-8"></script>
-->
<script src="/{{=request.application}}/static/scripts/T2/fancyzoom.min.js" type="text/javascript" charset="utf-8"></script>
<!--
<script src="/{{=request.application}}/static/scripts/T2/rating.js" type="text/javascript" charset="utf-8"></script>
-->
<script src="/{{=request.application}}/static/scripts/T2/T2.js" type="text/javascript" charset="utf-8"></script>
<!--Scripts which need pre-processing by server must be called in-line-->
<script type="text/javascript">//<![CDATA[
$(document).ready(function(){
try { $('.zoom').fancyZoom({scaleImg:true, closeOnClick:true, directory:"/{{=request.application}}/static/media"}); } catch(e) {};
});
//]]></script>

<!--S3 Layer-->
<script src="/{{=request.application}}/static/scripts/S3/labels.js" type="text/javascript" charset="utf-8"></script>
<script src="/{{=request.application}}/static/scripts/S3/jquery.cluetip.js" type="text/javascript" charset="utf-8"></script>
<script src="/{{=request.application}}/static/scripts/S3/S3.js" type="text/javascript" charset="utf-8"></script>
<!--Scripts which need pre-processing by server must be called in-line-->
<script type="text/javascript">//<![CDATA[
function make_delete_row() {
    $(document).ready(function() {
    $('input.delete_row').click(function(){
        if(confirm("{{=T("Sure you want to delete this object?")}}")) {
          $.ajax({ url: "{{=URL2(r=request)}}/"+$(this).attr("name")+"/delete/"+$(this).attr("id")+"?format=ajax",  cache: false,  success: function(html){ $("div#list-container").html(html); make_delete_row(); }});
        }
        return false;
    });
  });
}
make_delete_row();

$(document).ready(function() {
    $('a.smopen, a.smclose').click(function(){
        $(this).toggleClass('smopen');
        $(this).toggleClass('smclose');
        if ($(this).next().css('display') == 'block') {
            $(this).next().css('display','none');
            $.ajax({url: "{{=URL(r=request,c='default',f='menu_close')}}",data: "module_name={{=module_name}}&option_name="+$(this).attr('title'),cache: false});
        } else {
            $(this).next().css('display','block');
            $.ajax({url: "{{=URL(r=request,c='default',f='menu_open')}}",data: "module_name={{=module_name}}&option_name="+$(this).attr('title'),cache: false,});
        }
        return false;
    });
});

$(document).ready(function() {
$('a#delete-btn').click(function(event){ if(confirm("{{=T("Sure you want to delete this object?")}}"))
    { event.default(); } else { event.preventDefault(); }
    return false; });
$('.tooltip').cluetip({activation: 'click', sticky: true, closePosition: 'title',closeText: '<img src="/{{=request.application}}/static/img/cross2.png" alt="close" />',splitTitle: '|'});
});
//]]></script>
