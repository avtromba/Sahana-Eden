{{extend 'layout.html'}}
{{include '_list_create.html'}}
<script type="text/javascript">//<![CDATA[
$(function() {
    // Person AutoComplete
    // Hide the real Input Field
    $("#or_contact_person_id").hide();
    
    // Add a dummy field
    $("#or_contact_person_id").after("<input id='dummy_person' class='ac_input' size=50 />");

    {{include 'pr/person_autocomplete.js'}}

    // Populate the real Input when the Dummy is selected
    $("#dummy_person").result(function(event, data, formatted) {
        var newvalue = data.id;
        $("#or_contact_person_id").val(newvalue);
    }); 

    // Organisation AutoComplete
    // Hide the real Input Field
    $("#or_contact_organisation_id").hide();
    
    // Add a dummy field
    $("#or_contact_organisation_id").after("<input id='dummy_organisation' class='ac_input' size=50 />");

    {{dummy_input = "dummy_organisation"}}
    {{urlpath_c = "or"}}
    {{urlpath_f = "organisation"}}
    {{urlvar_field = "name"}}
    {{include 'autocomplete.js'}}

    // Populate the real Input when the Dummy is selected
    $("#dummy_organisation").result(function(event, data, formatted) {
        var newvalue = data.id;
        $("#or_contact_organisation_id").val(newvalue);
    }); 
    
    // Office AutoComplete
    // Hide the real Input Field
    $("#or_contact_office_id").hide();
    
    // Add a dummy field
    $("#or_contact_office_id").after("<input id='dummy_office' class='ac_input' size=50 />");

    {{dummy_input = "dummy_office"}}
    {{urlpath_c = "or"}}
    {{urlpath_f = "office"}}
    {{urlvar_field = "name"}}
    {{include 'autocomplete.js'}}

    // Populate the real Input when the Dummy is selected
    $("#dummy_office").result(function(event, data, formatted) {
        var newvalue = data.id;
        $("#or_contact_office_id").val(newvalue);
    }); 
});
//]]></script>

