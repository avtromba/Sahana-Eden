{{extend 'layout.html'}}

<script type="text/javascript">//<![CDATA[
$(function() {
    // Warn when SMS goes over 140 characters
    // tbc
<<<<<<< TREE
    // Turn the Distribution Group dropdown into an Autocomplete INPUT
    // tbc
    $("#msg_sms_outbox_group_id").autocomplete('{{=URL(r=request, c='msg', f='group', args='search', vars={'format':'json', 'filter':'~', 'field':'name'})}}', {
    matchContains: true,
=======
    // Hide the real Input Row
    $("#msg_sms_outbox_group_id__row").hide();
    // Autocomplete-enable the Dummy Input
    $("#dummy").autocomplete('{{=URL(r=request, c='msg', f='group_search', vars={'type':'sms'})}}', {
        matchContains: true,
>>>>>>> MERGE-SOURCE
        dataType: 'json',
        parse: function(data) {
            var rows = new Array();
            for(var i=0; i<data.length; i++){
                rows[i] = { data:data[i], value:data[i].id, result:data[i].id };
            }
            return rows;
        },
    });
});
//]]></script>

{{try:}}
 {{=H2(title)}}
{{except:}}
{{pass}}
{{include 'key.html'}}
<div class='form-container'>
{{try:}}
 {{=form.custom.begin}}
 <table>
 <tbody>
 <tr id='msg_sms_outbox_group_id__row'>
 <td>
 <label>{{=form.custom.label.group_id}}</label>
 </td>
 <td>
 {{=form.custom.widget.group_id}}
 </td>
 <td>
 {{=form.custom.comment.group_id}}
 </td>
 </tr>
 <tr id='msg_sms_contents_body__row'>
 <td>
 <label>{{=form.custom.label.contents}}</label>
 </td>
 <td>
 {{=form.custom.widget.contents}}
 </td>
 <td>
 {{=form.custom.comment.contents}}
 </td>
 </tr>
 <tr id='submit_record__row'>
 <td>
 </td>
 <td>
 {{=form.custom.submit}}
 </td>
 </tr>
 <td>
 </td>
 </tbody>
 </table>
 {{=form.custom.end}} 
{{except:}}
{{pass}}
</div>
<p>&nbsp;</p>
{{try:}}
 {{=list_btn}}
{{except:}}
{{pass}}
