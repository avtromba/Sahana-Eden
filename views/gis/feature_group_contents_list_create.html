{{extend 'layout.html'}}

<script type="text/javascript">//<![CDATA[
$(function() {
    // Set the Crud dropdowns to the current Feature Group
    var options = '<option value="' + {{=feature_group}} + '"></option>';
    $("#gis_feature_class_to_feature_group_feature_group").html(options);
    $("#gis_feature_to_feature_group_feature_group").html(options);
    // Hide the dropdowns
    $("#gis_feature_class_to_feature_group_feature_group__row").hide();
    $("#gis_feature_to_feature_group_feature_group__row").hide();
    
    // Hide the Features form
    $("form:last").hide();
    
    // When the Type changes:
	$("input[name='fg1']:radio").change(function() {
		// What is the new type?
        type=$("input[name='fg1']:radio:checked").val();
        if (type=="Feature") {
            // Hide the Feature Classes form
            $("form:eq(1)").hide();
            // Set the radio to 'Feature'
            $("input[name='fg2']:nth(1)").attr("checked","checked");
            // Show the Features form
            $("form:last").show();
        }
    })
	$("input[name='fg2']:radio").change(function() {
		// What is the new type?
        type=$("input[name='fg2']:radio:checked").val();
        if (type=="FeatureClass") {
            // Hide the Items form
            $("form:last").hide();
            // Set the radio to 'Feature Class'
            $("input[name='fg1']:nth(0)").attr("checked","checked");
            // Show the Feature Classes form
            $("form:eq(1)").show();
        }
	})
});
//]]></script>

{{=H2(title)}}
{{=P(description)}}

{{=P(A(T("Edit Description"), _href=URL(r=request, f='feature_group', args=('update', feature_group))))}}

{{try:}}
 {{=H3(subtitle)}}
{{except:}}
{{pass}}
<div class='form-container'>
<div id='table-container'>
{{try:}}
 {{=items}}
{{except:}}
{{pass}}
</div>
</div>
<p>&nbsp;</p>
{{try:}}
 {{=H3(addtitle)}}
{{except:}}
{{pass}}
<div class='form-container'>
{{try:}}
 {{=form1}}
{{except:}}
{{pass}}
{{try:}}
 {{=form2}}
{{except:}}
{{pass}}
</div>
{{include 'key.html'}}
